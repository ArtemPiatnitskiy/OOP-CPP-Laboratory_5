# Лабораторная работа №5

## Тема: "***<u>Итераторы и аллокаторы</u>***"

### Цель:

- Изучение устройства коллекций в стандартной библиотеке 

- Получение навыков в использовании концепции «итератор» 

- Получение навыков в использовании концепции «аллокатор»

### Порядок выполнения работы:

- Ознакомиться с теоретическим материалом

- Реализовать задание в соответствии с вариантом (Вариант 19)

- Написать Unit-тесты с использованием Google Test

- Отчитаться по выполненной работе путём демонстрации работающей программы на тестовых наборах данных (как подготовленных самостоятельно, так и предложенных преподавателем) и ответов на вопросы преподавателя (как из числа контрольных, так и по реализации программы).

### Требования к программе:

- Реализовать наследник `std::pmr::memory_resource` который реализует стратегию работы с памятью согласно варианта задания. 

- memory_resource должен позволять периспользовать освобождаемую память (освобожденную ранее с помощью `do_deallocate`) 

- memory_resource при уничтожении должен подчищать всю неосвобожденную ранее память 

- Реализовать шаблонный контейнер согласно варианту задания, который использует созданный  `memory_resource` через шаблон `std::pmr::polymorphic_allocator`. 

- Реализовать итератор к созданному контейнеру. Итератор должен соответствовать `std::forward_iterator_tag`. 

- Создать код, демонстрирующий работ контейнера с простыми (`int`) и сложными типами (`struct` с несколькими полями)

## Условие задачи:

###### Создать программу, которая реализует следующую стратегию работы `memory_resource`

| Контейнер              | Стратегия `memory_resource`                                                                                   |
|:----------------------:|:-------------------------------------------------------------------------------------------------------------:|
| Двунаправленный список | Фиксированный блок памяти (выделяется один раз), информация о выделенных блоках памяти хранится в `std::list` |

---

## Структура проекта

```
tasks/Laboratory_5/
├── CMakeLists.txt
├── main.cpp
├── README.md
├── include/
│   ├── fixed_block_memory_resource.h
│   └── doubly_linked_list.h
├── src/
│   └── fixed_block_memory_resource.cpp
└── tests/
    ├── test_memory_resource.cpp
    ├── test_doubly_linked_list.cpp
    ├── test_struct.cpp
    └── test_iterator.cpp
```

## Сборка и запуск проекта

**Сборка:**

```bash
# Создание директории для сборки
mkdir build
cd build

# Конфигурация проекта
cmake ..

# Сборка проекта
cmake --build .
```

**Запуск:**

```bash
./Laboratory_5.exe
```

## Запуск тестов:

```bash
# Из директории build/tasks/Laboratory_2
./test_[name_test]_Laboratory_5

# Или через CTest
ctest --verbose
```
